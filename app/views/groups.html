<div ng-include src="'views/partials/header.html'"></div>
<div class="tournament-games">
    <div class="group-block" ng-repeat="group in groups">
        <h1>{{group.name}}</h1>

        <div class="select-block">
            <select ng-init="roundSelected = group.rounds[0]"
                    ng-model="roundSelected"
                    ng-options="'ROUND '+(group.rounds.indexOf(round)+1) for round in group.rounds">
            </select>  
        </div>
        <div class="games-block">
            <div class="group-game" ng-repeat="game in roundSelected">
                <p>{{game.title}}</p>
                <p ng-class="{'winner': game.winner == 0}">{{group.teams[game.match[0]]['name']}}: <span class="score">{{game.score[0]}}</span></p>
                <p ng-class="{'winner': game.winner == 1}">{{group.teams[game.match[1]]['name']}}: <span class="score">{{game.score[1]}}</p>

                <table>
                   <tr>
                       <td><button ng-if="game.score[0] === nbrOfCupsToWin" ng-click="setWinner(game,0);">winner</button></td>
                       <td><button ng-if="game.score[1] === nbrOfCupsToWin" ng-click="setWinner(game,1);">winner</button></td>
                   </tr>
                    <tr>
                        <td>
                            <div class="player" ng-repeat="player in game.scorers[0]">
                                <p class="player-name" >{{player.name}}</p>
                                <button  ng-click="scoreDown(player,game.score,0,game)" >-</button>
                                <span >{{player.score}}</span>
                                <button ng-click="scoreUp(player,game.score,0,game)">+</button>
                            </div>
                        </td>
                        <td>
                            <div class="player" ng-repeat="player in game.scorers[1]" >
                                <p class="player-name" >{{player.name}}</p>
                                <button  ng-click="scoreDown(player,game.score,1,game)" >-</button>                                 <span>{{player.score}}</span>
                                <button ng-click="scoreUp(player,game.score,1,game)">+</button>
                            </div>
                        </td>
                    </tr>
                </table>



            </div>
        </div>
    </div>
</div>
<div ng-if="showNextStep" class="tournament-nextstep">
    <button ng-click="goNextStep()">Show table</button>
</div>